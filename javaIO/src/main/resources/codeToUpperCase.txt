IMPORT JAVA.IO.*; 
IMPORT JAVA.TIME.INSTANT; 
IMPORT JAVA.TIME.LOCALDATETIME; 
IMPORT JAVA.TIME.ZONEID; 
 
PUBLIC CLASS FOLDERSTRUCTURE { 
    PUBLIC STATIC VOID MAIN(STRING[] ARGS) { 
        FILE DIRECTORY = NEW FILE("C:/USERS/USER/PICTURES/PHOTO"); 
        PRINTSTREAM PRINTSTREAM = NULL; 
        TRY { 
            PRINTSTREAM = NEW PRINTSTREAM(NEW FILEOUTPUTSTREAM("SRC/MAIN/RESOURCES/FOLDERSTRUCTURE.TXT")); 
        } CATCH (IOEXCEPTION E) { 
            E.PRINTSTACKTRACE(); 
        } 
        IF (DIRECTORY.EXISTS() && DIRECTORY.ISDIRECTORY()) { 
            FOR (FILE CURRENT : DIRECTORY.LISTFILES()) { 
                PRINTSTREAM.PRINTLN("DIRECTORY: " + DIRECTORY.GETNAME()); 
                SYSTEM.SETOUT(PRINTSTREAM); 
                LONG MILLIS = CURRENT.LASTMODIFIED(); 
                LOCALDATETIME DATETIME = INSTANT.OFEPOCHMILLI(MILLIS).ATZONE(ZONEID.SYSTEMDEFAULT()).TOLOCALDATETIME(); 
                PRINTSTREAM.PRINTLN("|-----" + "  " + DATETIME + " ---  " + CURRENT.GETNAME()); 
                SYSTEM.SETOUT(PRINTSTREAM); 
                INT COUNT = 0; 
                FOR (FILE FILE : CURRENT.LISTFILES()) { 
                    COUNT++; 
                    PRINTSTREAM.PRINTLN("    | " + COUNT + " " + FILE.GETNAME()); 
                    SYSTEM.SETOUT(PRINTSTREAM); 
 
                } 
 
            } 
 
 
        } 
 
    } 
 
} 
